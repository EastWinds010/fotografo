
<p-table [value]="products" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
        <tr>
            <th>Code</th>
            <th>E-mail</th>
            <th>Nome</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product let-i="index">
        <tr>
            <td>{{ product.id }}</td>
            <td>{{ product.email }}</td>
            <td>{{ product.nome }}</td>
            <td><p-button icon="pi pi-user-edit" (onClick)="showDialog(product.id, 'edit')"></p-button></td>
            <td><p-button icon="pi pi-trash" (onClick)="showDialog(product.id, 'delete')"></p-button></td>
        </tr>
    </ng-template>
</p-table>

<div class="card flex justify-content-center">
    <p-dialog header="Header" [(visible)]="visibleDelete" [modal]="true" [style]="{ width: '50rem' }"
        [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }">
        <ng-template pTemplate="header">
            <div class="inline-flex align-items-center justify-content-center gap-2">
                <span class="font-bold white-space-nowrap">Excluir Usuário</span>
            </div>
        </ng-template>
        <div class="card flex justify-content-center">
            <p-dialog header="Header" [(visible)]="visibleDelete" [modal]="true" [style]="{ width: '50rem' }"
                [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }">
                <ng-template pTemplate="header">
                    <div class="inline-flex align-items-center justify-content-center gap-2">
                        <span class="font-bold white-space-nowrap">Excluir Usuário</span>
                    </div>
                </ng-template>
                <p class="m-0">
                    Você tem certeza que deseja excluir o usuário?
                </p>
                <ng-template pTemplate="footer">
                    <p-button (onClick)="deleteUser()" label="Excluir" pAutoFocus [autofocus]="true"></p-button>
                    <p-button (click)="visibleDelete = false" label="Cancelar" pAutoFocus [autofocus]="true"></p-button>
                </ng-template>
            </p-dialog>
        </div>
        <ng-template pTemplate="footer">
            <p-button (onClick)="deleteUser()" label="Excluir" pAutoFocus [autofocus]="true"></p-button>
            <p-button (click)="visibleDelete = false" label="Cancelar" pAutoFocus [autofocus]="true"></p-button>
        </ng-template>
    </p-dialog>
</div>
<div class="card flex justify-content-center">
    <p-dialog header="Header" [(visible)]="visibleEdit" [modal]="true" [style]="{ width: '50rem' }"
    [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }">
    <ng-template pTemplate="header">
        <div class="inline-flex align-items-center justify-content-center gap-2">
            <span class="font-bold white-space-nowrap">Editar Usuário</span>
        </div>
    </ng-template>
    <form [formGroup]="form"class="formulario">
        <span class="p-float-label">
          <input id="name" type="text" pInputText formControlName="name" />
          <label for="name">Name</label>
        </span>
        <br>
        <span class="p-float-label">
          <input id="email" type="text" pInputText formControlName="email" />
          <label for="email">Email</label>
        </span>
        <br>
        <span class="p-float-label">
          <input id="password" type="password" pInputText formControlName="password" />
          <label for="password">Password</label>
        </span>
      </form>
    <ng-template pTemplate="footer">
        <p-button (onClick)="editUser()" label="EditarUsuário" pAutoFocus [autofocus]="true"></p-button>
        <p-button  (click)="visibleEdit = false" label="Cancelar" pAutoFocus [autofocus]="true"></p-button>
    </ng-template>
</p-dialog>
</div>

